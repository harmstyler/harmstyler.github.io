<!doctype html><html lang=en-us><head><link href=https://gmpg.org/xfn/11 rel=profile><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta http-equiv=cache-control content=public><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.55.6"><title>jQuery Animate Body Scroll For All Browsers â€¢ Tyler Harms</title><meta name=twitter:card content=summary><meta name=twitter:title content="jQuery Animate Body Scroll For All Browsers"><meta name=twitter:description content="How to use jQuery's animate and scrollTop on main body of a page."><meta property=og:title content="jQuery Animate Body Scroll For All Browsers"><meta property=og:description content="How to use jQuery's animate and scrollTop on main body of a page."><meta property=og:type content=article><meta property=og:url content=https://harmstyler.me/posts/2013/jquery-animate-body-for-all-browsers/><meta property=article:published_time content=2013-08-09T00:00:00&#43;00:00><meta property=article:modified_time content=2013-08-09T00:00:00&#43;00:00><meta name=copyright content="Tyler Harms"><meta name=author content="Tyler Harms"><link rel=stylesheet href=https://harmstyler.me/css/syntax.min.526c7855d123d38fb872630d4fd87414145f1c4718e03de5cdec1c1fbdd44f3458c31f6ef3f67ba28a296a00ba072faf897644f22e1360bf7265b512a40017fa.css integrity="sha512-Umx4VdEj04&#43;4cmMNT9h0FBRfHEcY4D3lzewcH73UTzRYwx9u8/Z7ooopagC6By&#43;viXZE8i4TYL9yZbUSpAAX&#43;g==" media=screen><link rel=stylesheet href=/scss/hyde-hyde.db26229686c54cef3ebada3e965159104c773b1bdf455fc3332e6c7090f4a32c.css integrity="sha256-2yYilobFTO8&#43;uto&#43;llFZEEx3OxvfRV/DMy5scJD0oyw="><link rel=stylesheet href=/scss/print.1850a99a7deb72f7243ff99e7a0dfc548ba8837498518c98cc1e44fa65bf1678.css integrity="sha256-GFCpmn3rcvckP/meeg38VIuog3SYUYyYzB5E&#43;mW/Fng=" media=print><link rel=apple-touch-icon sizes=76x76 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content=#da532c><meta name=theme-color content=#6a9fb5></head><body class=theme-base-0d><div class=sidebar><div class=container><div class=sidebar-about><span class=site__title><a href=https://harmstyler.me/>Tyler Harms</a></span><div class=author-image><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src=https://harmstyler.me//img/tyler_portrait.jpg alt="Author Image" class="img--circle img--headshot element--center lazyload"></div><p class=site__description>A Software Development Blog</p></div><div class=collapsible-menu><input type=checkbox id=menuToggle>
<label for=menuToggle>Tyler Harms</label><div class=menu-content><div><ul class=sidebar-nav><li><a href=/posts/><span>Posts</span></a></li><li><a href=/portfolio/><span>Portfolio</span></a></li><li><a href=/about/><span>About</span></a></li></li></ul></div><section class=social><a href=https://twitter.com/harmstyler rel="me noopener"><i class="fab fa-twitter fa-lg" aria-hidden=true></i></a><a href=https://github.com/harmstyler rel="me noopener"><i class="fab fa-github fa-lg" aria-hidden=true></i></a><a href=https://gitlab.com/harmstyler rel="me noopener"><i class="fab fa-gitlab fa-lg" aria-hidden=true></i></a><a href=https://instagram.com/harmstyler rel="me noopener"><i class="fab fa-instagram fa-lg" aria-hidden=true></i></a><a href=https://linkedin.com/in/harmstyler rel="me noopener"><i class="fab fa-linkedin fa-lg" aria-hidden=true></i></a><a href=https://stackoverflow.com/users/743245/harmstyler rel="me noopener"><i class="fab fa-stack-overflow fa-lg" aria-hidden=true></i></a><a href=https://keybase.io/harmstyler rel="me noopener"><i class="fab fa-keybase fa-lg" aria-hidden=true></i></a></section></div></div><div class=copyright>&copy; 2019 Tyler Harms</div></div></div><div class="content container"><article><header><h1>jQuery Animate Body Scroll For All Browsers</h1><div class=post__meta><i class="fas fa-calendar-alt"></i>Aug 9, 2013
in
<a class="badge badge-category" href=/categories/javascript>JAVASCRIPT</a><br><i class="fas fa-tags"></i><a class="badge badge-tag" href=/tags/jquery>jquery</a><br><i class="fas fa-clock"></i>1 min read</div></header><div class=post><p>It turns out that when trying to use jQuery&rsquo;s <code>animate</code> to <code>scrollTop</code> on the main body of an html document different browsers require different targets to scroll to. Webkit requires targeting the <code>body</code> of the document while all other browsers that I know of use <code>html</code>. The typical solution is to target both in the same call:</p><div class=highlight><pre class=chroma><code class=language-javascript data-lang=javascript><span class=nx>$</span><span class=p>(</span><span class=s1>&#39;html, body&#39;</span><span class=p>).</span><span class=nx>animate</span><span class=p>({</span>
    <span class=nx>scrollTop</span><span class=o>:</span> <span class=s1>&#39;0px&#39;</span><span class=p>,</span><span class=s1>&#39;fast&#39;</span><span class=p>,</span> <span class=kd>function</span><span class=p>(){</span>
        <span class=c1>// Code to be fired when complete goes here (fired twice)
</span><span class=c1></span>    <span class=p>}</span>
<span class=p>});</span>
</code></pre></div><p>This solution is problematic, however, because even though the scrollTop will only work once, the callback is fired twice. That means that if we were relying on the callback to tell us that the function is complete, our complete function would fire twice.
Luckily, there is a relatively simple solution to this problem. Using jQuery&rsquo;s browser plugin we can have webkit browsers target the <code>body</code> and all others target the <code>html</code>.</p><div class=highlight><pre class=chroma><code class=language-javascript data-lang=javascript><span class=c1>// If using a newer version (&gt;= 1.9) of jQuery a separate browser
</span><span class=c1>// plugin is required
</span><span class=c1></span><span class=nx>$</span><span class=p>(</span><span class=nx>jQuery</span><span class=p>.</span><span class=nx>browser</span><span class=p>.</span><span class=nx>webkit</span> <span class=o>?</span> <span class=s2>&#34;body&#34;</span><span class=o>:</span> <span class=s2>&#34;html&#34;</span><span class=p>).</span><span class=nx>animate</span><span class=p>({</span>
    <span class=nx>scrollTop</span><span class=o>:</span> <span class=s1>&#39;0px&#39;</span><span class=p>,</span><span class=s1>&#39;fast&#39;</span><span class=p>,</span> <span class=kd>function</span><span class=p>(){</span>
        <span class=c1>// Code to be fired when complete goes here
</span><span class=c1></span>    <span class=p>}</span>
<span class=p>});</span>
</code></pre></div><p>This solution worked well for me. I am open to different ideas or solutions if you know of any.</p></div><div class="navigation navigation-single"><a href=/posts/2013/sort-solr-facets-on-per-field-basis/ class=navigation-prev><i aria-hidden=true class="fa fa-chevron-left"></i><span class=navigation-tittle>Sort Solr Facets on Per Field Basis</span></a>
<a href=/posts/2013/south-dakota-code-camp-2013/ class=navigation-next><span class=navigation-tittle>South Dakota Code Camp 2013</span>
<i aria-hidden=true class="fa fa-chevron-right"></i></a></div><div id=graphcomment></div><script type=text/javascript>window.graphcomment_id='harmstyler-me';(function(){var gc=document.createElement('script');gc.type='text/javascript';gc.async=true;gc.src='https://graphcomment.com/js/integration.js';(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(gc);})();</script></article></div><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-133041000-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script defer src=https://use.fontawesome.com/releases/v5.5.0/js/all.js integrity=sha384-GqVMZRt5Gn7tB9D9q7ONtcp4gtHIUEW/yG7h98J7IpE3kpi+srfFyyB/04OV6pG0 crossorigin=anonymous></script><script type=text/javascript src=https://harmstyler.me/js/lazysizes.min.2a1077711d9a0180d46fd021941edea1dbfd6fc20d319ce0759cbaca6e971fe16964f86f9eece26cdc460ad443374889ad10dd08abe192f65a0e8a676636a93e.js integrity="sha512-KhB3cR2aAYDUb9AhlB7eodv9b8INMZzgdZy6ym6XH&#43;FpZPhvnuzibNxGCtRDN0iJrRDdCKvhkvZaDopnZjapPg=="></script></body></html>